# ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Railway MongoDB: Replica Set

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

Railway managed MongoDB **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç replica set** –∏–∑ –∫–æ—Ä–æ–±–∫–∏. MongoDB –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ —Ñ–ª–∞–≥–∞ `--replSet`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é replica set —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã.

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `rs.initiate()` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```
MongoServerError: This node was not started with replication enabled.
```

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB Atlas (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

MongoDB Atlas –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier (M0) **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç replica set** –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Prisma.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Replica set –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å Prisma –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `RAILWAY_MONGODB_ATLAS_SETUP.md`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å MongoDB, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∫–∞–∫ replica set:

1. **–°–æ–∑–¥–∞–π—Ç–µ Dockerfile:**
   ```dockerfile
   FROM mongo:8.0
   CMD ["mongod", "--replSet", "rs0", "--bind_ip_all"]
   ```

2. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞ Railway –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å**

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ replica set –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚ùå –ù—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Mongoose –≤–º–µ—Å—Ç–æ Prisma

Mongoose –Ω–µ —Ç—Ä–µ–±—É–µ—Ç replica set –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MongoDB.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–¥–∞
- ‚ùå –ü–æ—Ç–µ—Ä—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Prisma
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB Atlas** - —ç—Ç–æ —Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. Railway managed MongoDB –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Prisma –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ replica set.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Prisma MongoDB Requirements](https://www.prisma.io/docs/concepts/database-connectors/mongodb#replica-set-requirement)
- [Railway MongoDB Documentation](https://docs.railway.app/databases/mongodb)
- [MongoDB Atlas Setup](./RAILWAY_MONGODB_ATLAS_SETUP.md)
